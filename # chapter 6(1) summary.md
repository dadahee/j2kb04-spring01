# chapter 6(1) summary
### 6-1
- 메모리에 저장을 한 것은 서버가 내려가면 데이터가 다 내려감. 따라서 실무에서는 DB를 통해 데이터를 저장함. <br>
- 6-1에서는 간단한 DB인 H2를 설치하는 것을 다룸. <br>
- 용량 작고 가벼워 실습 용도로 많이 사용(***실무에서는 MYSQL 계열의 DB들을 더 많이 사용함***) <br>


### 6-2
-DB와 연결하는 JDBC를 다룸. ***(자바는 db와 연결하려면 jdbc 드라이버가 꼭 있어야 함.)*** <br>
-스프링 2.4부터는 **spring.datasource.username=sa** 를 꼭 추가해주어야 함. 그렇지 않으면 wrong user name or password 오류가 발생함. <br>

##### 6-2 예제 설명
-JdbcMemberRepository 작성 <br>
-저장소로 사용하고 있던 MemoryMemberRepository의 의존성을 제거하고 JdbcMemberRepository에 의존성 연결. <br>
-개발자가 직접 의존관계를 주입하게 된 경우에는 기존 소스코드를 복잡하게 수정해야 하지만 스프링의 특성인 DI를 사용하여 의존관계를 주입하게 된 경우에는, 스프링의 설정파일만 변경하는 것으로 간단하게 의존관계를 변경할 수 있다. <br>
-DataSource는 데이터베이스 커넥션을 획득할 때 사용하는 객체다. 스프링 부트는 데이터베이스 커넥션 정보를 바탕으로 DataSource를 생성하고 스프링 빈으로 만들어둔다. 그래서 DI를 받을 수 있다. <br>

**개방-폐쇄 원칙(OCP, Open-Closed Principle)**
- 확장에는 열려있고, 수정-변경에는 닫혀있다. <br>
- 객체지향에서의 다형성을 잘 활용을 하면 기능을 변경을 해도 전체적인 코드를 하나도 변경하지 않을 수 있다. <br>
 
**스프링 DI(Dependency Injection)**
- 기존 코드를 전혀 손대지 않고, 설정만으로 구현 클래스를 변경할 수 있다. <br>
- 스프링을 종료해도 DB에 저장을 하기 때문에 DB를 종료하기 전까지 데이터를 안전하게 보관할 수 있다. <br>

### 6-3
- 스프링 컨테이너와 DB까지 연결한 통합 테스트 진행하는 것을 다룸 <br>
- 단위테스트 : 순수 자바 코드로 이루어진 테스트 <br>
- 통합테스트 : Spring이 포함되어 진행되는 테스트 <br>
- 가장 좋은 테스트라고 말하기는 어렵지만 단위테스트로 쪼개어서 진행하는것이 바람직하다. <br>

##### 6-3 예제 설명
- @SpringBootTest : 스프링 컨테이너와 테스트를 함께 실행한다. <br>
- @Transactional : 테스트케이스에 이 애노테이션이 있으면 테스트 시작전에 트랜잭션을 시작하고 테스트 완료후에 항상 롤백한다. 이렇게 하면 데이터베이스에 데이터가 남지 않으므로 다음 테스트에 영향을 주지 않는다. <br>
